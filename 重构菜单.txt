重构菜单:
1.获取节点
2.构造前端页面


现在有一个问题了,之前的角色权限数据表中保存的是优云源码的控制器和方法名称,通过获取当前控制器和方法名是否在accesslist数组中来判断是否允许操作.现在要重构,这部分数据就要重新写.或者保持控制器和方法名与优云源码对应.

几个配置常量:
USER_AUTH_ON 判断是否开启权限控制
USER_AUTH_KEY 保存用户id
ADMIN_AUTH_KEY 如果是管理员则给予这个标识,后面不再对管理员进行权限控制,这个可以通过current_account中的is_super字段进行判断,所以不是必须的

权限控制分为普通模式和严格模式:
USER_AUTH_TYPE 2为普通模式,1为严格模式,区别就是如果某个用户被修改了权限,1是要等待session失效才会重新读取用户权限,2是每次判断用户权限都重新获取用户权限.
